{"version":3,"sources":["webpack:///./src/blocks/modules/accordion/accordion.js"],"names":["Accordion","selector","el","root","document","querySelector","heading","body","lineClamp","getAttribute","_init","f","_binds","_initEventListeners","classList","contains","_open","scrollHeight","add","addEventListener","_accordionHandler","e","preventDefault","_close","style","height","remove","removeEventListener","AccordionFactory","props","accordions","querySelectorAll","push"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAAqBA,S;AACjB,qBAAYC,QAAZ,EAAsBC,EAAtB,EAA0B;AAAA;;AACtB,SAAKD,QAAL,GAAgBA,QAAhB;AACA,SAAKE,IAAL,GAAYD,EAAE,GAACA,EAAD,GAAIE,QAAQ,CAACC,aAAT,YAA2B,KAAKJ,QAAhC,OAAlB;AACA,QAAI,CAAC,KAAKE,IAAV,EAAgB,OAAO,KAAP;AAChB,SAAKG,OAAL,GAAe,KAAKH,IAAL,CAAUE,aAAV,YAA4B,KAAKJ,QAAjC,eAAf;AACA,SAAKM,IAAL,GAAY,KAAKJ,IAAL,CAAUE,aAAV,YAA4B,KAAKJ,QAAjC,YAAZ;AACA,SAAKO,SAAL,GAAiB,KAAKL,IAAL,CAAUM,YAAV,WAA0B,KAAKR,QAA/B,OAA+C,YAAhE;;AACA,SAAKS,KAAL;AACH;;;;WACD,kBAAS;AAAA;AAAA;;AACL,iHAAC,mBAAD,kBAA8B,UAAAC,CAAC;AAAA;;AAAA,eAAI,KAAI,CAACA,CAAD,CAAJ,GAAU,4GAAI,CAACA,CAAD,CAAJ,kBAAa,KAAb,CAAd;AAAA,OAA/B;AACH;;;WAED,iBAAQ;AACJ,WAAKC,MAAL;;AACA,WAAKC,mBAAL;;AACA,UAAG,KAAKV,IAAL,CAAUW,SAAV,CAAoBC,QAApB,CAA6B,SAA7B,CAAH,EAA4C,KAAKC,KAAL;;AAC5C,UAAG,KAAKR,SAAL,IAAkB,KAAKD,IAAL,CAAUU,YAAV,GAAuB,GAA5C,EAAiD;AAC7C,aAAKD,KAAL;;AACA,aAAKV,OAAL,CAAaQ,SAAb,CAAuBI,GAAvB,CAA2B,WAA3B;AACH;AACJ;;;WACD,+BAAsB;AAClB,WAAKZ,OAAL,CAAaa,gBAAb,CAA8B,OAA9B,EAAuC,KAAKC,iBAA5C;AACH;;;WAED,2BAAkBC,CAAlB,EAAoB;AAChBA,OAAC,CAACC,cAAF;;AACA,UAAI,CAAE,KAAKnB,IAAL,CAAUW,SAAV,CAAoBC,QAApB,CAA6B,SAA7B,CAAN,EAA+C;AAC3C,aAAKC,KAAL;AACH,OAFD,MAEO;AACH,aAAKO,MAAL;AACH;AACJ;;;WACD,iBAAQ;AACJ,WAAKhB,IAAL,CAAUiB,KAAV,CAAgBC,MAAhB,GAAyB,KAAKlB,IAAL,CAAUU,YAAV,GAAyB,IAAlD;AACA,WAAKd,IAAL,CAAUW,SAAV,CAAoBI,GAApB,CAAwB,SAAxB;AACH;;;WAED,kBAAS;AACL,WAAKX,IAAL,CAAUiB,KAAV,CAAgBC,MAAhB,GAAyB,EAAzB;AACA,WAAKtB,IAAL,CAAUW,SAAV,CAAoBY,MAApB,CAA2B,SAA3B;AAEH;;;WAED,mBAAU;AACN,WAAKH,MAAL;;AACA,WAAKjB,OAAL,CAAaqB,mBAAb,CAAiC,OAAjC,EAA0C,KAAKP,iBAA/C;AACH;;;;;;;;IAGCQ,gB,GACL,0BAAYC,KAAZ,EAAmB;AAAA;AAAA;;AAAA;;AAClB,OAAKC,UAAL,GAAkB,EAAlB;;AACA,qMAAI1B,QAAQ,CAAC2B,gBAAT,YAA8BF,KAAK,CAAC5B,QAApC,OAAJ,mBAA8D,UAAAC,EAAE,EAAI;AACnE,UAAI,CAAC4B,UAAL,CAAgBE,IAAhB,CACC,IAAIhC,SAAJ,CAAc6B,KAAK,CAAC5B,QAApB,EAA6BC,EAA7B,CADD;AAGA,GAJD;AAKA,C","file":"accordion.8e84.js","sourcesContent":["export default class Accordion {\r\n    constructor(selector, el) {\r\n        this.selector = selector;\r\n        this.root = el?el:document.querySelector(`[${this.selector}]`);\r\n        if (!this.root) return false;\r\n        this.heading = this.root.querySelector(`[${this.selector}-heading]`);\r\n        this.body = this.root.querySelector(`[${this.selector}-body]`);\r\n        this.lineClamp = this.root.getAttribute(`${this.selector}`) === \"line-clamp\"\r\n        this._init();\r\n    }\r\n    _binds() {\r\n        ['_accordionHandler'].forEach(f => this[f] = this[f].bind(this));\r\n    }\r\n\r\n    _init() {\r\n        this._binds();\r\n        this._initEventListeners();\r\n        if(this.root.classList.contains('is-open')) this._open()\r\n        if(this.lineClamp && this.body.scrollHeight<600) {\r\n            this._open()\r\n            this.heading.classList.add('is-hidden');\r\n        }\r\n    }\r\n    _initEventListeners() {\r\n        this.heading.addEventListener('click', this._accordionHandler);\r\n    }\r\n\r\n    _accordionHandler(e){\r\n        e.preventDefault();\r\n        if (!(this.root.classList.contains('is-open'))){\r\n            this._open();\r\n        } else {\r\n            this._close();\r\n        }\r\n    }\r\n    _open() {\r\n        this.body.style.height = this.body.scrollHeight + 'px'\r\n        this.root.classList.add('is-open');\r\n    }\r\n\r\n    _close() {\r\n        this.body.style.height = ''\r\n        this.root.classList.remove('is-open');\r\n\r\n    }\r\n\r\n    destroy() {\r\n        this._close();\r\n        this.heading.removeEventListener('click', this._accordionHandler);\r\n    }\r\n}\r\n\r\nclass AccordionFactory {\r\n\tconstructor(props) {\r\n\t\tthis.accordions = [];\r\n\t\t[...document.querySelectorAll(`[${props.selector}]`)].forEach(el => {\r\n\t\t\tthis.accordions.push(\r\n\t\t\t\tnew Accordion(props.selector,el)\r\n\t\t\t);\r\n\t\t});\r\n\t}\r\n}\r\n\r\nexport {Accordion, AccordionFactory}"],"sourceRoot":""}